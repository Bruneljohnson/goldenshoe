{"version":3,"file":"static/js/479.1b1f4ba2.chunk.js","mappings":"0NACA,EAA4B,4BAA5B,EAAuE,+BAAvE,EAAsH,gCAAtH,EAAgK,0BAAhK,EAAkM,wBAAlM,EAAuQ,uBAAvQ,EAAuS,yBAAvS,EAA0U,0BAA1U,EAAkX,8B,SC+ClX,EAzCiB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACZC,GAAWC,EAAAA,EAAAA,MASjB,OACE,gBAAIC,UAAWC,EAAf,WACE,mBAAQD,UAAWC,EAAnB,UACE,gBAAKC,IAAG,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAMM,MAAM,GAAIC,IAAI,gBAEhC,iBAAKJ,UAAWC,EAAhB,WACE,wBAAKJ,EAAKQ,MAAMC,MAAM,MAAM,MAC5B,iBAAKN,UAAU,cAAf,WACE,iBAAKA,UAAWC,EAAhB,WACE,iBAAMD,UAAWC,EAAjB,SAAgCJ,EAAKU,QACrC,kBAAMP,UAAWC,EAAjB,iBAAkCJ,EAAKW,MAAvC,UACA,kBAAMR,UAAWC,EAAjB,eAAoCJ,EAAKY,gBAE3C,iBAAKT,UAAWC,EAAhB,WACE,mBACES,KAAK,SACLV,UAAWC,EACXU,QArBc,WACxBb,EAASc,EAAAA,EAAAA,WAA4Bf,KAiB7B,UAKE,SAAC,MAAD,CAASU,KAAM,QAEjB,mBAAQI,QA5BK,WACrBb,EAASc,EAAAA,EAAAA,SAAA,kBAA8Bf,GAA9B,IAAoCY,SAAU,OA2B/C,UACE,SAAC,MAAD,CAAQF,KAAM,oBCtC5B,GAAgB,KAAO,mBAAmB,MAAQ,oBAAoB,MAAQ,qBCyF9E,EAnFa,WACX,IAAMM,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,UAC3CI,GAAQH,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,SAC1CC,GAAQJ,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMI,KAAKD,SAC1CE,GAAQN,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMI,KAAKC,SACxCC,GAAgBC,EAAAA,EAAAA,KAAhBD,YAEFE,EAAc,IAAIC,KAAKC,aAAaC,UAAUC,SAAU,CAC5DC,MAAM,WACNC,SAAS,QACRC,OAAOZ,EAAMa,QAAQ,IAMlBC,EAAaZ,EAAMa,KAAI,SAACtC,GAC5B,MAAO,CACLuC,GAAIvC,EAAKwC,IACT5B,SAAUZ,EAAKY,SACfD,MAAOX,EAAKW,MACZH,MAAOR,EAAKQ,MAAMC,MAAM,MAAM,GAC9BC,KAAMV,EAAKU,KACX+B,YAAazC,EAAKyC,YAClBnC,MAAON,EAAKM,MAAM,OAsBtB,OACE,iBAAKH,UAAWC,EAAAA,KAAhB,UACGqB,EAAMiB,OAAS,IAAK,qCACpBjB,EAAMiB,OAAS,IACd,eAAIvC,UAAWC,EAAAA,cAAf,SACGqB,EAAMa,KAAI,SAACtC,GACV,OAAO,SAAC,EAAD,CAAwBA,KAAMA,GAAfA,EAAKuC,SAKhCd,EAAMiB,OAAS,IACd,iBAAKvC,UAAWC,EAAAA,MAAhB,WACE,4CACA,0BAAOwB,QAGTV,GAAUO,EAAMiB,OAAS,IACzB,mBAAQvC,UAAU,gBAAgBW,QApDf,WACvBE,EAAS,gBAAiB,CAAE2B,SAAS,KAmDjC,mBAIDzB,GAAUO,EAAMiB,OAAS,IACxB,mBAAQvC,UAAU,gBAAgBW,QAzCX,WAC3B,IAAM8B,EAAgB,CACpBC,IAAK,qEACLC,OAAQ,OACRC,KAAM,CAAEC,MAAOX,GACfY,QAAS,CACPC,cAAc,UAAD,OAAY5B,GACzB,eAAgB,qBAQpBI,EAAYkB,GALQ,SAACO,GACnBC,QAAQC,IAAIF,GACZG,OAAOC,SAASC,KAAOL,EAAKN,QA6B1B,mBAIgB,IAAjBpB,EAAMiB,SACL,gBAAKvC,UAAWC,EAAAA,MAAhB,UACE,oDC5EV,EAJiB,WACf,OAAO,SAAC,EAAD","sources":["webpack://golden/./src/components/Cart/CartItem.module.css?2ae8","components/Cart/CartItem.js","webpack://golden/./src/components/Cart/Cart.module.css?054f","components/Cart/Cart.js","components/Pages/CartPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart-item\":\"CartItem_cart-item__dtdCk\",\"imgContainer\":\"CartItem_imgContainer__9Mt2E\",\"infoContainer\":\"CartItem_infoContainer__D8BVZ\",\"summary\":\"CartItem_summary__ue4Uc\",\"price\":\"CartItem_price__pP54w\",\"subTotal\":\"CartItem_subTotal__CXfOL\",\"size\":\"CartItem_size__4RT-0\",\"amount\":\"CartItem_amount__b0-du\",\"actions\":\"CartItem_actions__JbqCw\",\"button--alt\":\"CartItem_button--alt__GITEn\"};","import React from \"react\";\nimport { TbMinus, TbPlus } from \"react-icons/tb\";\nimport { useDispatch } from \"react-redux\";\nimport { CartSliceActions } from \"../../store/slices/cartSlice/CartSlice\";\nimport classes from \"./CartItem.module.css\";\n\n// deleteItem addItem clearCart\nconst CartItem = ({ item }) => {\n  const dispatch = useDispatch();\n\n  const addItemHandler = () => {\n    dispatch(CartSliceActions.addItem({ ...item, quantity: 1 }));\n  };\n  const deleteItemHandler = () => {\n    dispatch(CartSliceActions.deleteItem(item));\n  };\n\n  return (\n    <li className={classes[\"cart-item\"]}>\n      <figure className={classes.imgContainer}>\n        <img src={item?.image[0]} alt=\"sneakers\" />\n      </figure>\n      <div className={classes.infoContainer}>\n        <h2>{item.title.split(\"- \")[0]}</h2>\n        <div className=\"flex-center\">\n          <div className={classes.summary}>\n            <span className={classes.size}>{item.size}</span>\n            <span className={classes.price}>Â£{item.price}.00</span>\n            <span className={classes.amount}>x {item.quantity}</span>\n          </div>\n          <div className={classes.actions}>\n            <button\n              type=\"button\"\n              className={classes[`button--alt`]}\n              onClick={deleteItemHandler}\n            >\n              <TbMinus size={30} />\n            </button>\n            <button onClick={addItemHandler}>\n              <TbPlus size={30} />\n            </button>\n          </div>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"Cart\":\"Cart_Cart__nupIv\",\"empty\":\"Cart_empty__IMCxO\",\"total\":\"Cart_total__F-EkC\"};","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport useHttp from \"../../Hooks/use-Http\";\nimport CartItem from \"./CartItem\";\nimport classes from \"./Cart.module.css\";\n\nconst Cart = () => {\n  const navigate = useNavigate();\n  const isAuth = useSelector((state) => state.auth.isAuth);\n  const token = useSelector((state) => state.auth.token);\n  const total = useSelector((state) => state.cart.total);\n  const items = useSelector((state) => state.cart.items);\n  const { sendRequest } = useHttp();\n\n  const totalAmount = new Intl.NumberFormat(navigator.language, {\n    style: `currency`,\n    currency: `GBP`,\n  }).format(total.toFixed(2));\n\n  const goToLoginHandler = () => {\n    navigate(\"/login-signup\", { replace: true });\n  };\n\n  const fixedOrder = items.map((item) => {\n    return {\n      id: item._id,\n      quantity: item.quantity,\n      price: item.price,\n      title: item.title.split(\"- \")[0],\n      size: item.size,\n      description: item.description,\n      image: item.image[0],\n    };\n  });\n\n  const startCheckoutHandler = () => {\n    const requestConfig = {\n      url: \"https://goldenshoe-api.herokuapp.com/api/v1/order/checkout-session\",\n      method: \"POST\",\n      body: { shoes: fixedOrder },\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-Type\": \"application/json\",\n      },\n    };\n    const dataGrabber = (data) => {\n      console.log(data);\n      window.location.href = data.url;\n    };\n\n    sendRequest(requestConfig, dataGrabber);\n  };\n\n  return (\n    <div className={classes.Cart}>\n      {items.length > 0 && <h1>YOUR BAG</h1>}\n      {items.length > 0 && (\n        <ul className={classes[`cart-items`]}>\n          {items.map((item) => {\n            return <CartItem key={item.id} item={item} />;\n          })}\n        </ul>\n      )}\n\n      {items.length > 0 && (\n        <div className={classes.total}>\n          <span>Total Amount</span>\n          <span>{totalAmount}</span>\n        </div>\n      )}\n      {!isAuth && items.length > 0 && (\n        <button className=\"custom-button\" onClick={goToLoginHandler}>\n          Order\n        </button>\n      )}\n      {isAuth && items.length > 0 && (\n        <button className=\"custom-button\" onClick={startCheckoutHandler}>\n          Order\n        </button>\n      )}\n      {items.length === 0 && (\n        <div className={classes.empty}>\n          <h1>Your Bag is Empty</h1>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from \"react\";\nimport Cart from \"../Cart/Cart\";\n\nconst CartPage = () => {\n  return <Cart />;\n};\n\nexport default CartPage;\n"],"names":["item","dispatch","useDispatch","className","classes","src","image","alt","title","split","size","price","quantity","type","onClick","CartSliceActions","navigate","useNavigate","isAuth","useSelector","state","auth","token","total","cart","items","sendRequest","useHttp","totalAmount","Intl","NumberFormat","navigator","language","style","currency","format","toFixed","fixedOrder","map","id","_id","description","length","replace","requestConfig","url","method","body","shoes","headers","Authorization","data","console","log","window","location","href"],"sourceRoot":""}