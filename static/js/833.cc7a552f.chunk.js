"use strict";(self.webpackChunkgolden=self.webpackChunkgolden||[]).push([[833],{7833:function(e,s,i){i.r(s),i.d(s,{default:function(){return x}});var n=i(2791),l=i(8152),t=i(9434),o=i(6871),r=i(6502),d=i(5471),c=i(3686),u=i(7692),a=i(6036),h=i(6246),v={orderItem:"OrderItem_orderItem__GyqiD",status:"OrderItem_status__2eRUS",info:"OrderItem_info__WT7Bh",shipping:"OrderItem_shipping__cu-ZB",shoeslist:"OrderItem_shoeslist__C+C8S",shoeslist_deets:"OrderItem_shoeslist_deets__dMxlT",shoeslist_price:"OrderItem_shoeslist_price__53+AA",ticket:"OrderItem_ticket__fmwe2"},p=i(184),m=function(){var e,s,i,m,x,j,f,_,g,N,b=(0,o.UO)(),y=(0,o.s0)(),S=(0,n.useState)(!1),k=(0,l.Z)(S,2),I=k[0],C=k[1],O=(0,n.useState)(null),T=(0,l.Z)(O,2),Z=T[0],w=T[1],D=(0,n.useState)(!1),A=(0,l.Z)(D,2),z=A[0],q=A[1],B=(0,n.useState)(!1),P=(0,l.Z)(B,2),R=P[0],U=P[1],E=(0,t.v9)((function(e){return e.auth.token})),H=(0,t.v9)((function(e){return e.auth.id})),W=(0,r.Z)(),F=W.error,G=W.sendRequest,J=(0,t.v9)((function(e){return e.auth.user})),K=null===J||void 0===J?void 0:J.orders,L=null===K||void 0===K?void 0:K.find((function(e){return e._id===b.id})),M=(null===L||void 0===L?void 0:L.amount)/100,X=(0,d.Z)((function(e){return""!==e.toLowerCase().trim()&&e.trim().includes(" ")})),Y=X.value,Q=X.inputHandler,V=X.blurHandler,$=X.clear;return(0,n.useEffect)((function(){var e;return F&&(q(!0),e=setTimeout((function(){q(!1)}),2e3)),function(){clearTimeout(e)}}),[F]),(0,p.jsxs)("div",{className:v.orderItem,children:[R&&(0,p.jsx)(c.Z,{type:"success",msg:"Ticket Sent Successful!"}),z&&(0,p.jsx)(c.Z,{type:"error",msg:"Issue Sending Ticket"}),(0,p.jsxs)("h1",{children:["Order No. ",null===L||void 0===L?void 0:L._id]}),(0,p.jsxs)("div",{className:v.status,children:[(0,p.jsxs)("div",{className:"flex-space-between",children:[(0,p.jsx)("strong",{children:"Status"}),(0,p.jsxs)("div",{className:"flex-center",children:[(0,p.jsx)("span",{children:null===L||void 0===L?void 0:L.status}),(0,p.jsx)(a.DqJ,{size:30,color:"#dbca0f"})]})]}),(0,p.jsxs)("div",{className:"flex-space-between",children:[(0,p.jsx)("strong",{children:"Purchase Date"}),(0,p.jsx)("span",{children:new Intl.DateTimeFormat("en-UK",{month:"short",day:"2-digit",year:"numeric"}).format(new Date(null===L||void 0===L?void 0:L.createdAt))})]})]}),(0,p.jsxs)("ul",{className:v.info,children:[(0,p.jsxs)("li",{className:"flex-space-between",children:[(0,p.jsx)("strong",{children:"Amount"}),(0,p.jsxs)("span",{children:["\xa3",M]})]}),(0,p.jsxs)("li",{className:v.shipping,children:[(0,p.jsx)("strong",{children:"Shipping Address"}),(0,p.jsx)("div",{children:(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:null===L||void 0===L||null===(e=L.shipping)||void 0===e||null===(s=e.address)||void 0===s?void 0:s.line1}),(0,p.jsx)("li",{children:null===L||void 0===L||null===(i=L.shipping)||void 0===i||null===(m=i.address)||void 0===m?void 0:m.line2}),(0,p.jsx)("li",{children:null===L||void 0===L||null===(x=L.shipping)||void 0===x||null===(j=x.address)||void 0===j?void 0:j.city}),(0,p.jsx)("li",{children:null===L||void 0===L||null===(f=L.shipping)||void 0===f||null===(_=f.address)||void 0===_?void 0:_.postal_code}),(0,p.jsx)("li",{children:null===L||void 0===L||null===(g=L.shipping)||void 0===g||null===(N=g.address)||void 0===N?void 0:N.country})]})})]})]}),(0,p.jsx)("ul",{children:null===L||void 0===L?void 0:L.shoes.map((function(e){var s,i,n;return(0,p.jsxs)("li",{className:v.shoeslist,children:[(0,p.jsx)("figure",{children:(0,p.jsx)("img",{src:null===e||void 0===e||null===(s=e.shoe)||void 0===s?void 0:s.image[0],alt:"Shoe"})}),(0,p.jsxs)("div",{className:v.shoeslist_deets,children:[(0,p.jsx)("h2",{children:null===e||void 0===e||null===(i=e.shoe)||void 0===i?void 0:i.title.split("- ")[0]}),(0,p.jsxs)("span",{children:["Size: ",null===e||void 0===e?void 0:e.size]})]}),(0,p.jsxs)("div",{className:v.shoeslist_price,children:[(0,p.jsxs)("span",{children:["\xa3",null===e||void 0===e||null===(n=e.shoe)||void 0===n?void 0:n.price]}),(0,p.jsxs)("span",{children:["x ",null===e||void 0===e?void 0:e.quantity]})]})]},e._id)}))}),I&&(0,p.jsxs)("div",{className:v.ticket,children:[(0,p.jsx)("h2",{className:" ma-bt-md",children:"Change Order"}),(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={order:null===L||void 0===L?void 0:L._id,type:Z,description:Y};console.log(s);var i={url:"https://goldenshoe-api.herokuapp.com/api/v1/tickets",method:"POST",body:s,headers:{Authorization:"Bearer ".concat(E),"content-Type":"application/json"}};G(i,(function(){U(!0),setTimeout((function(){U(!1),y("/user/".concat(H),{replace:!0})}),2e3)})),$(),w(null)},className:"".concat(v.form," ").concat(v["form-user-data"]),children:[(0,p.jsxs)("select",{onChange:function(e){e.preventDefault(),w(e.target.value)},children:[(0,p.jsx)("option",{children:"Please Choose"}),(0,p.jsx)("option",{value:"refund",children:"Refund"}),(0,p.jsx)("option",{value:"exchange",children:"Exchange"})]}),(0,p.jsx)(h.Z,{id:"name",type:"text",placeholder:"Please provide more information.",value:Y,onBlur:V,onChange:Q}),(0,p.jsx)("div",{className:"".concat(v.form__group," right"),children:(0,p.jsx)("button",{className:"custom-button",type:"submit",children:"Send"})})]})]}),(0,p.jsx)("button",{type:"button",onClick:function(){C((function(e){return!e}))},children:I?"Cancel":"Would you like to change your order?"}),(0,p.jsx)("button",{type:"button",onClick:function(){y("/user/".concat(H),{replace:!0})},children:(0,p.jsx)(u.YiX,{className:v["react-icon"],size:30})})]})},x=function(){return(0,p.jsx)(m,{})}}}]);
//# sourceMappingURL=833.cc7a552f.chunk.js.map